<!DOCTYPE html>
<html>
<head>
	<title> Welcome to Student submissions</title>
<style>
	table, th, td {
	  border: 1px solid black;
	}
</style>
</head>
<body>
	<header>
		<h1> Welcome to Student-Teacher Queue System </h1> 
	</header>
	<button class="accept">Accept</button>
	<table id="studentRequests" style="width:80%">
		<tr>
			<th>Name</th>
			<th>Student ID</th>
			<th>Type of request</th>
			<th>Status</th>
		</tr>
	</table>
</body>
<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<!-- JS, Popper.js, and jQuery -->
<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
<script>
	function acceptStudent(){
		$.ajax({
		url: 'http://localhost:3000/addStudent',
		method: 'POST',
		data: {list:"some info"}
	}).done(function(data){
		console.log("Gets into Ajax");
		var name = data.name;
		var id = data.id;
		var studentRequestType = data.requestType;
		var status = 'active';
		$("#studentRequests tr:last").after(`<tr><td>${name}</td><td>${id}</td><td>${studentRequestType}</td><td>${status}</td></tr>`)
	}).fail(function(){
		console.log("Failed");
		return;
	});
	};

	$('.accept').click(()=>{
		console.log("Click triggered");
		acceptStudent();
	})
	

	
</script>
</html>